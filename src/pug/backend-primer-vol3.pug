extends /layout/_application

prepend Config
  - title = 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å…¥é–€ã‚³ãƒ¼ã‚¹ Vol.3'


block content
  section.bg-red
    span.background.dark(style="background-image:url('https://source.unsplash.com/R1J6Z1cnJZc/1600x800')")
    // .wrap = container (width: 90%)
    .wrap.aligncenter
      h1
        strong ğŸŸãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å…¥é–€ã‚³ãƒ¼ã‚¹ Vol.3
      h5.text-symbols ***
    // .end .wrap
  section.slide-top
    .cta-cover
      h2 æœ¬æ—¥ã®ã‚¹ãƒ©ã‚¤ãƒ‰
      h1(style="font-size: 100px;") https://bit.ly/2DeXgMa
  section
    // .wrap = container (width: 90%)
    .wrap.size-70
      h2
        strong Agenda
      hr
      ol.text-cols
        li ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æ¦‚è¦
        li å‰å›ã®æŒ¯ã‚Šè¿”ã‚Š
        li ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’ä½œã‚ã†
        li ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã‚’ä½œã‚ã†

    // .end .wrap
    // http://www.dt30.net/gachinko/?p=1008
    // https://chiefmartec.com/post_images/marketing_technology_landscape.jpg
  section.bg-green
    span.background.dark(style="background-image:url('https://images.unsplash.com/photo-1535219241072-7d3c28a49a5c')")
    // .wrap = container (width: 90%)
    .wrap.aligncenter.fadeInUp
      h3
        strong ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æ¦‚è¦
    // .end .wrap
  section.slide-top
    // .wrap = container (width: 90%)
    .wrap
      div
        h1 Twitterã‚¯ãƒ­ãƒ¼ãƒ³ã‚’ä½œæˆã—ã‚ˆã†
      div(style="margin-top: 45px;")
        h3(style="font-weight: bold;") Day1
        p
          | Railsç’°å¢ƒã®ç«‹ã¡ä¸Šã’ã‹ã‚‰ç°¡å˜ãªHTMLç·¨é›†ã¾ã§è¡Œã„ã¾ã™ã€‚
          ol
            li Webæ¦‚è«–
            li Ruby/Railsæ¦‚è«– li GitåŸºç¤
            li HTMLåŸºç¤
          img(src="./images/backend-primer/tw-capture.png")
      div(style="margin-top: 45px;")
        h3(style="font-weight: bold;") Day2
        p
          | Userã®ç™»éŒ²æ©Ÿèƒ½ã‚’ä½œæˆã—ã¾ã™
          ol
            li ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç¤
            li MVCãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ / ORãƒãƒƒãƒ‘ãƒ¼è§£èª¬
            li çµ„ã¿è¾¼ã¿
          img(src="./images/backend-primer/sign-up.png")
      div(style="margin-top: 45px;")
        h3(style="font-weight: bold;") Day3
        p
          | Tweetæ©Ÿèƒ½ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‹ã‚‰Model View Controllerãªã©ã‚’ä¸€é€šã‚Šä½œæˆã—ã¾ã™
          ol
            li ãƒ‡ãƒ¼ã‚¿ãƒ¼ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
            li Railsæ¦‚è«–
          img(src="./images/backend-primer/timeline.png")
  section.bg-green
    span.background.dark(style="background-image:url('./images/cover/0.jpg')")
    // .wrap = container (width: 90%)
    .wrap.aligncenter.fadeInUp
      h3
        strong å‰å›ã®æŒ¯ã‚Šè¿”ã‚Š
    // .end .wrap
  section.slide-top
    // .wrap = container (width: 90%)
    h2 å‰å›ã‚„ã£ãŸã“ã¨
    ul
      li RubyåŸºç¤ãã®2
      li ãƒ‡ãƒ¼ã‚¿ãƒ¼ãƒ™ãƒ¼ã‚¹æ¦‚è«– / ORãƒãƒƒãƒ‘ãƒ¼
      li ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ©Ÿèƒ½ã‚’ã¤ãã‚ã†
      li ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã‚ˆã†

  // section.slide-top
  //   h2 RubyåŸºç¤ãã®3
  //   // TODO
  //   // ã“ã“ã§ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å•é¡Œã‚’ã—ãŸã»ã†ãŒè‰¯ã•ãã†

  section.bg-green
    span.background.dark(style="background-image:url('https://images.unsplash.com/photo-1535219241072-7d3c28a49a5c')")
      // .wrap = container (width: 90%)
    .wrap.aligncenter.fadeInUp
      h3
        strong ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’ä½œã‚ã†
    // .end .wrap
  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³ã®ä»•çµ„ã¿
    p
      | HTTP/HTTPSã¯åŸºæœ¬çš„ã«ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ãªãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§å‰å¾Œã®é€šä¿¡ã®çŠ¶æ…‹ã‚’æŒã£ã¦ã„ãªã„
    img(src="./images/backend-primer3/ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹.svg")

  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³ã®ä»•çµ„ã¿
    p
      | ã‚¯ãƒƒã‚­ãƒ¼ã«èªè¨¼æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã“ã¨ã§ã€ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ­ã‚°ã‚¤ãƒ³è¨±å¯ãªã©ã‚’å®Ÿç¾
    img(src="./images/backend-primer3/ã‚¯ãƒƒã‚­ãƒ¼.svg")

  //- https://www.network-security.tokyo/entry/2017/10/24/001444
  section.slide-top
    h2 ã‚¯ãƒƒã‚­ãƒ¼ã«ã¤ã„ã¦
    table
      thead
        tr
          th ã‚«ãƒ©ãƒ å
          th å€¤ (ä¾‹)
          th èª¬æ˜
      tbody
        tr
          td Name
          td _twitter
          td ã‚¯ãƒƒã‚­ãƒ¼å
        tr
          td Value
          td BAh7CSIKZmxhc2hJ...
          td
            | ã‚¯ãƒƒã‚­ãƒ¼å€¤ (æš—å·åŒ–ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒãƒˆ)
            br
            | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ã‚’æ°—ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
            br
            | ãƒ»æš—å·åŒ–ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒãƒˆã™ã‚‹
            br
            | ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã®æ©Ÿå¯†æƒ…å ±ã‚’ã‚¯ãƒƒã‚­ãƒ¼ã«ã‚»ãƒƒãƒˆã—ãªã„
        tr
          td domain
          td .twitter.com
          td
            | ã‚¯ãƒƒã‚­ãƒ¼ãŒå±Šããƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æŒ‡å®š
            br
            | .twitter.comã¨æŒ‡å®šã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³é–“ã¨ã®å…±æœ‰ã‚‚ã§ãã‚‹
        tr
          td path
          td /
          td
            | ã‚¯ãƒƒã‚­ãƒ¼ã‚’èª­ã¿è¾¼ã‚ã‚‹ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹
            br
            | ã€Œ/ã€ ã¨æŒ‡å®šã™ã‚‹ã“ã¨ã§å…¨ãƒšãƒ¼ã‚¸ã‹ã‚‰èª­ã¿è¾¼ã‚ã‚‹
        tr
          td Expires / Max-Age
          td 2028-09-09T01:13:08.543Z
          td
            | ã‚¯ãƒƒã‚­ãƒ¼ã®æœ‰åŠ¹æœŸé™
            br
            |  çœç•¥ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‚’çµ‚äº†ã•ã›ã‚‹ã¾ã§ãŒæœ‰åŠ¹æœŸé™ã¨ãªã‚‹
        tr
          td HttpOnly
          td true
          td
            | Cookieã‚’JavaScriptã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«åˆ¶é™
        tr
          td Secure
          td true
          td
            | HTTPSã§é€šä¿¡ã—ã¦ã„ã‚‹å ´åˆã«ã®ã¿Cookieã‚’é€ä¿¡ã™ã‚‹

  section.slide-top
    h2 Railsã§ã®ã‚¯ãƒƒã‚­ãƒ¼ã®ç¨®é¡
    table
      tbody
        tr
          th åå‰
          th ä»•çµ„ã¿
          th ãƒ¡ãƒªãƒƒãƒˆ
          th ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
        tr
          td CookieStore
          td Sessionæƒ…å ±ã‚’å…¨ã¦secret_key_baseã§æš—å·åŒ–ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®Cookieã«ä¿å­˜ã™ã‚‹
          td
            | Railsã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ–¹å¼
            br
            | ã‚µãƒ¼ãƒå‡¦ç†ã®éš›ã«DBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒãªã„ãŸã‚ã€å‡¦ç†ãŒé«˜é€Ÿ
          td
            | ã‚»ãƒƒã‚·ãƒ§ãƒ³å†ç”Ÿæ”»æ’ƒã‚’ã•ã‚Œã‚‹æã‚ŒãŒã‚ã‚‹
            br
            | ã‚µãƒ¼ãƒã§Sessionæƒ…å ±ã‚’ä¿æŒã—ã¦ã„ãªã„ã®ã§ã€Sessionæƒ…å ±ã‚’å¤‰æ›´ã—ãŸã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å¤‰æ›´ã§ããªã„
        tr
          td Redisï¼ˆã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªæ–¹å¼ï¼‰
          td
            | SessionIdã‚’ç”Ÿæˆã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®Cookieã«ä¿å­˜ã™ã‚‹
            br
            | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å—ã‘å–ã£ãŸSessionIdã‚’ã‚‚ã¨ã«Redisã‹ã‚‰ä¿å­˜æƒ…å ±ã‚’å–å¾—
          td
            | ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã®ãŸã‚ã€å‡¦ç†ãŒæ—©ã„
            br
            | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã¯IDã—ã‹ä¿å­˜ã—ãªã„ãŸã‚ã€æƒ…å ±æ¼æ´©ã®ãƒªã‚¹ã‚¯ãŒä½ã„
          td
            | Redisã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã‚³ã‚¹ãƒˆãŒæ›ã‹ã‚‹

  section.slide-top
    h2 èªè¨¼æ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    p
      | ç°¡æ˜“èªè¨¼æ©Ÿèƒ½ã§ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã®ã¿ã§ãƒ­ã‚°ã‚¤ãƒ³å¯èƒ½ãªã‚‚ã®ã¨ã™ã‚‹
      br
      | ã‚¯ãƒƒã‚­ãƒ¼ä¿å­˜ã®ä»•çµ„ã¿ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¯ãƒƒã‚­ãƒ¼ã‚¹ãƒˆã‚¢ã‚’ä½¿ç”¨

    h5 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
    ol
      li Viewã®çµ„ã¿è¾¼ã¿ä½œæ¥­
      li ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
      li ã‚¨ãƒ©ãƒ¼å‡¦ç†

    h5.u-verx9-t ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
    ol
      li ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å‘¼ã³å‡ºã—
      li ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸å¤‰æ•°ã®çµ„ã¿è¾¼ã¿

    h5.u-verx9-t ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
    ol
      li deleteç”¨ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¿½åŠ 
      li ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¸ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
      li ãƒ•ã‚©ãƒ¼ãƒ ã®çµ„ã¿è¾¼ã¿

  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
    h4.u-verx9-t Viewã®çµ„ã¿è¾¼ã¿ä½œæ¥­
    ol
      li form_forã§viewã®å¿…è¦ç®‡æ‰€ã‚’å›²ã†
      li buttonã‚¿ã‚°ã‚’f.text_fieldã‚„f.submitã«ç½®ãæ›ãˆã¦æ­£ã—ãã€ãƒ•ã‚©ãƒ¼ãƒ ãŒé€ä¿¡ã•ã‚Œã‚‹ã‚ˆã†ã«èª¿æ•´
    pre: code.hljs.html
      :escape-html
        # app/views/sessions/new.html.erb
        <div class="content">
          <header class="header">
            <div class="content"><img class="logo" src="/assets/images/icons/tw-icon.svg">
              <button class="submit btn primary">ãƒ­ã‚°ã‚¤ãƒ³</button>
            </div>
          </header>
          <div class="form">
            <h1 class="title">Twitterã«ãƒ­ã‚°ã‚¤ãƒ³</h1>
            <input type="text" class="input" placeholder="ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå">
            <button>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå</button
          </div>
        </div>

  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
    h4.u-verx9-t Viewã®çµ„ã¿è¾¼ã¿ä½œæ¥­[è§£èª¬]
    pre: code
      :escape-html
        <div class="content">
          <%= form_for @form, url: session_path do |f|%>
            <header class="header">
              <div class="content"><img class="logo" src="/assets/images/icons/tw-icon.svg">
                <%= f.submit "ãƒ­ã‚°ã‚¤ãƒ³", { class: "submit btn primary" }%>
              </div>
            </header>
            <div class="form">
              <h1 class="title">Twitterã«ãƒ­ã‚°ã‚¤ãƒ³</h1>
              <%= f.text_field :account, { class: "input", placeholder: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå" }%>
            </div>
          <% end %>
        </div>

  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
    h4.u-verx9-t ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
    ol
      li ãƒ•ã‚©ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆ
      li ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®å—ã‘å–ã‚Š
      li ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
      li ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸæ™‚ã«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
    p: a(href="https://github.com/pocke777/twwwitter-clone-rails/blob/0819b34f80953ef2f27ed620fb5ab32deba1a44c/app/forms/session_form.rb" target="_blank") SessionForm
    pre: code.hljs
      | #app/controllers/sessions_controller.rb
      | class SessionsController < ApplicationController
      |   def new
      |     @form = SessionForm.new
      |   end
      |
      |   def create
      |     # ã“ã“ã«ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ã‚’å®Ÿè£…
      |   end
      | end

  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
    h4.u-verx9-t ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…[è§£èª¬]
    pre: code.hljs
      | #app/controllers/sessions_controller.rb
      | class SessionsController < ApplicationController
      |   def new
      |     @form = SessionForm.new
      |   end
      |
      |   def create
      |     # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å—ã‘å–ã‚Š
      |     @form = SessionForm.new(session_params)
      |
      |     if @form.valid?
      |       # ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç† (ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã®è¿½åŠ )
      |       session[:user_id] = @form.user.id
      |       # ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
      |       redirect_to timeline_index_path
      |     end
      |   end
      |
      |   private
      |   def session_params
      |     params.require(:session_form).permit(:account)
      |   end
      | end


  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
    h4.u-verx9-t ã‚¨ãƒ©ãƒ¼å‡¦ç†
    ol
      li ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•—æ™‚ã«ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
      li ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã™ã‚‹ã‚ˆã†viewã«çµ„ã¿è¾¼ã¿

  section.slide-top
    h2 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
    h4.u-verx9-t ã‚¨ãƒ©ãƒ¼å‡¦ç†[è§£èª¬]
    pre: code
      | # app/controllers/sessions_controller.rb
      | class SessionsController < ApplicationController
      |   def new
      |     @form = SessionForm.new
      |   end
      |
      |   def create
      |     # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å—ã‘å–ã‚Š
      |     @form = SessionForm.new(session_params)
      |
      |     if @form.valid?
      |       # ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç† (ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã®è¿½åŠ )
      |       session[:user_id] = @form.user.id
      |       # ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
      |       redirect_to timeline_index_path
      |     else
      |       # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•—æ™‚ã«ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
      |       render :new
      |     end
      |   end
      |
      |   private
      |   def session_params
      |     params.require(:session_form).permit(:account)
      |   end
      | end

    pre.u-verx9-t
      | app/views/sessions/new.html.erb

      code
        :escape-html

          <div class="content">
            <%= form_for @form, url: session_path do |f|%>
              <header class="header">
                <div class="content"><img class="logo" src="/assets/images/icons/tw-icon.svg">
                  <%= f.submit "ãƒ­ã‚°ã‚¤ãƒ³", { class: "submit btn primary" }%>
                </div>
              </header>
              <div class="form">
                <h1 class="title">Twitterã«ãƒ­ã‚°ã‚¤ãƒ³</h1>
                <ul class="errors"><% @form.errors.full_messages.each do |msg| %><li class="errors-item"> <%= msg %> </li><% end %></ul>
                <%= f.text_field :account, { class: "input", placeholder: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå" }%>
              </div>
            <% end %>
          </div>

  section.slide-top
    h2 ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
    h4.u-verx9-t ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å‘¼ã³å‡ºã—
    ol
      li ä¿å­˜ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‘¼ã³å‡ºã—
      li å¤‰æ•°ã¸ä»£å…¥
      li ä¿å­˜ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒãªã‘ã‚Œã°ãƒˆãƒƒãƒ—ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
    pre: code
      | # app/controllers/timeline_controller.rb
      | class TimelineController < ApplicationController
      |   def index
      |     # ã“ã“ã§å‘¼ã³å‡ºã—å‡¦ç†
      |   end
      | end

  section.slide-top
    h2 ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
    h4.u-verx9-t ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å‘¼ã³å‡ºã—[è§£èª¬]

    pre: code
      | # app/controllers/timeline_controller.rb
      | class TimelineController < ApplicationController
      |   def index
      |     @user = User.find_by(id: session[:user_id])
      |     redirect_to new_session_path if @user.blank?
      |   end
      | end

  section.slide-top
    h2 ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
    h4.u-verx9-t ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸å¤‰æ•°ã®çµ„ã¿è¾¼ã¿
    ol
      li ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ ã€Œ@accountã€ ã€Œè‡ªå·±ç´¹ä»‹ã€ã®éƒ¨åˆ†ã‚’å¤‰æ•°åŒ–ã—ã¦ã„ã
    pre: code
      :escape-html
        <div class="content">
          # ...çœç•¥
          <div class="timeline">
            <div class="main">
              <div class="sidebar">
                <div class="profile">
                  <h1 class="name">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</h1>
                  <h2 class="account">@account</h2>
                  <div class="description">ã“ã‚Œã¯ç´¹ä»‹æ–‡ãƒ†ã‚­ã‚¹ãƒˆã“ã‚Œã¯ç´¹ä»‹æ–‡ãƒ†ã‚­ã‚¹ãƒˆã“ã‚Œã¯ç´¹ä»‹æ–‡ãƒ†ã‚­ã‚¹ãƒˆã“ã‚Œã¯ç´¹ä»‹æ–‡ãƒ†ã‚­ã‚¹ãƒˆã“ã‚Œã¯ç´¹ä»‹æ–‡ãƒ†ã‚­ã‚¹ãƒˆã“ã‚Œã¯ç´¹ä»‹æ–‡ãƒ†ã‚­ã‚¹ãƒˆ</div>
                </div>
              </div>
              <div class="content">
                <% (1..10).each do |i| %>
                  <div class="tweet">
                    <div class="content">
                      <div class="avatar"><img class="img" src="https://pbs.twimg.com/profile_images/992619235850444800/NRV9dtxv_400x400.jpg" /></div>
                      <div class="main">
                        <div class="header">
                          <div class="item name">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</div>
                          <div class="item account">@account</div>
                        <div class="item date">2017å¹´10æœˆ9æ—¥</div>
                        </div>
                        <div class="text">æœ¬æ—¥å…¨ã¦ã®é–‹ç™ºè€…ã®çš†ã•ã‚“ã«Account Activity APIã‚’å…¬é–‹ã—ã¾ã—ãŸã€‚ãªãŠã€User Streamsã¨Site Streamsã¨ã¨ã‚‚ã«ã€ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä½¿ã‚ã‚Œã¦ã„ãªã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯æœ¬æ—¥ã‹ã‚‰3ãƒ¶æœˆå¾Œã®2018å¹´8æœˆ16æ—¥ï¼ˆç±³å›½æ™‚é–“ï¼‰ã«å»ƒæ­¢ã•ã‚Œã‚‹ã‚ˆã†å¤‰æ›´ã«ãªã‚Šã¾ã™ã€‚è©³ç´°ã¯ä»¥ä¸‹ãƒ–ãƒ­ã‚°ã‚’ã”è¦§ãã ã•ã„ã€‚</div>
                      </div>
                    </div>
                  </div>
                <% end %>
              </div>
            </div>
          </div>
        </div>

  section.slide-top
    h2 ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
    pre: code.hljs
      | # config/routes.rb
      | resource :session, only: [:new, :create, :destroy]

    pre: code.hljs
      | # app/controllers/sessions_controller.rb
      | def destroy
      |   session.delete(:user_id)
      |   redirect_to root_path
      | end
    pre: code.hljs
      | # app/views/timeline/index.html.erb
      | <%= link_to "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ", session_path, method: :delete, class: "submit btn default logout" %>

  section.bg-green
    span.background.dark(style="background-image:url('./images/cover/0.jpg')")
    // .wrap = container (width: 90%)
    .wrap.aligncenter.fadeInUp
      h3
        strong ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã‚’ä½œã‚ã†
    // .end .wrap

  section.slide-top
    h2 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    ol
      li DBè¨­è¨ˆ
      li ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
      li ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆ
      li ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…
      li ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸çµ„ã¿è¾¼ã¿

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 DBè¨­è¨ˆ
    ul
      li ãƒ„ã‚¤ãƒ¼ãƒˆã®å¿…è¦æƒ…å ±
      li ãƒ„ã‚¤ãƒ¼ãƒˆã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢é€£æƒ…å ±

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 DBè¨­è¨ˆ
    img(src="./images/backend-primer3/tweet-table.svg")

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
    ul
      li.u-verx3 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
        pre: code
          | # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ
          | bin/rails g migration Tweet
          |
          | # db/migrate/20180926023850_tweet.rb
          | class Tweet < ActiveRecord::Migration[5.1]
          |   def change
          |     create_table :tweets do |t|
          |       # ...ã“ã¡ã‚‰ã«ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
          |
          |       t.timestamps null: false
          |     end
          |   end
          | end
        small: a(href="https://railsguides.jp/active_record_migrations.html#ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹" target="_blank") https://railsguides.jp/active_record_migrations.html#ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
    pre: code
      | # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ
      | bin/rails g migration Tweet
      |
      | # db/migrate/20180926023850_tweet.rb
      | class Tweet < ActiveRecord::Migration[5.1]
      |   def change
      |     create_table :tweets do |t|
      |       t.references :user
      |       t.text :tweet
      |       t.timestamps null: false
      |     end
      |   end
      | end

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆ
    ol
      li ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ
        p
          | ã‚¯ãƒ©ã‚¹ã®ä½œæˆ
          br
          | ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®šç¾©
      li Controllerã®ä½œæˆ
        p
          | ã‚¯ãƒ©ã‚¹ã®ä½œæˆ
          br
          | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ä½œæˆ
      li ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®š
        p
          | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®š (ç·¨é›†/å‰Šé™¤ã¯ãªã—)

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆ
    h5.u-verx9-t ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ
    pre: code
      | # app/models/tweet.rb
      | class Tweet < ApplicationRecord
      |   belongs_to :user
      | end
      |
      | # app/models/user.rb
      | class User < ApplicationRecord
      |   has_many :tweets
      | end

    h5.u-verx9-t Controllerã®ä½œæˆ
    pre: code
      | # app/controllers/tweets_controller.rb
      | class TweetsController < ApplicationController
      |   def new
      |   end
      |
      |   def create
      |   end
      | end

    h5.u-verx9-t ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®š (ç·¨é›†/å‰Šé™¤ã¯ãªã—)
    pre: code
      | # config/routes.rb
      | Rails.application.routes.draw do
      |   # ...çœç•¥
      |   resources :tweets, only: [:new, :create]
      | end

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…
    ol
      li newã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©
        p
          | Tweetãƒ¢ãƒ‡ãƒ«ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆ
      li viewã®çµ„ã¿è¾¼ã¿
        p
          | form_forã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ãƒ ã®ç”Ÿæˆ
      li createã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©
        p
          | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®å—ã‘å–ã‚Š
          br
          | ãƒ„ã‚¤ãƒ¼ãƒˆä¿å­˜å‡¦ç†
          br
          | æˆåŠŸæ™‚ã¯ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
          br
          | â€» ãƒ„ã‚¤ãƒ¼ãƒˆã«ç´ã¥ããƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä»®ã§è¨­å®šã™ã‚‹ (æœ€åˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼)

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…
    h5.u-verx9-t newã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©
    pre: code
      | # app/controllers/tweets_controller.rb
      | class TweetsController < ApplicationController
      |   def new
      |     @tweet = Tweet.new
      |   end
      | end

    h5.u-verx9-t viewã®çµ„ã¿è¾¼ã¿
    pre: code
      :escape-html
        # app/views/tweets/new.html.erb
        <div class="content">
          <header class="header">
            <div class="content wide">
              <img class="logo" src="/assets/images/icons/tw-icon.svg" />
            </div>
            <%= form_for @tweet do |f|%>
              <div class="share">
                <div class="title">ãƒªãƒ³ã‚¯ã‚’ã‚ãªãŸã®ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã«å…±æœ‰ã™ã‚‹</div>
                  <%= f.text_area :tweet, { class: "input" }%>
                  <%= f.submit "ãƒ„ã‚¤ãƒ¼ãƒˆ", { class: "submit btn primary" }%>
              </div>
            <% end %>
          </header>
        </div>

    h5.u-verx9-t createã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©
    pre: code
      | # app/controllers/tweets_controller.rb
      | class TweetsController < ApplicationController
      |   def create
      |     ## TODO: ä»®ãƒ¦ãƒ¼ã‚¶ãƒ¼
      |     user = User.first
      |     @tweet = user.tweets.build(tweet_params)
      |     if @tweet.save
      |       redirect_to timeline_index_path
      |     end
      |   end
      |
      |   private
      |   def tweet_params
      |     params.require(:tweet).permit(
      |       :tweet
      |     )
      |   end
      | end

  section.slide-top
    h5 ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
    h2 ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¸çµ„ã¿è¾¼ã¿
    pre: code
      | # app/controllers/timeline_controller.rb
      | class TimelineController < ApplicationController
      |   def index
      |     # TODO: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä»®
      |     @user = User.first
      |     @tweets = @user.tweets.order(created_at: :desc)
      |   end
      | end
    pre: code
      :escape-html
        # app/views/timeline/index.html.erb
        <div class="timeline">
          <div class="main">
            <div class="sidebar">
              <div class="profile">
                <h1 class="name"><%= @user.username %></h1>
                <h2 class="account"><%= "@#{@user.account }" %></h2>
                <div class="description"><%= @user.introduction %></div>
              </div>
            </div>
            <div class="content">
            <% @tweets.each do |val| %>
                <div class="tweet">
                  <div class="content">
                    <div class="avatar"><img class="img" src="https://pbs.twimg.com/profile_images/992619235850444800/NRV9dtxv_400x400.jpg" /></div>
                    <div class="main">
                      <div class="header">
                        <div class="item name"><%= @user.username %></div>
                        <div class="item account"><%= @user.account %></div>
                        <div class="item date">2017å¹´10æœˆ9æ—¥</div>
                      </div>
                      <div class="text"> <%= val.tweet %></div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          </div>
        </div>
  section.bg-green
    span.background.dark(style="background-image:url('./images/cover/0.jpg')")
    // .wrap = container (width: 90%)
    .wrap.aligncenter.fadeInUp
      h3
        strong End
